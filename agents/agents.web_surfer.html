

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>agents.web_surfer &mdash; AgentOpera API References 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="agents.video_surfer" href="agents.video_surfer.html" />
    <link rel="prev" title="agents.magentic_one_team" href="agents.magentic_one_team.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            AgentOpera API References
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Chatflow Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.html">chatflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.agents.html">chatflow.agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.base.html">chatflow.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.conditions.html">chatflow.conditions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.media.html">chatflow.media</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.state.html">chatflow.state</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.team.html">chatflow.team</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.ui.html">chatflow.ui</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chatflow/chatflow.utils.html">chatflow.utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Engine Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.html">engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.agent.html">engine.agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.function_call.html">engine.function_call</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.protocol.html">engine.protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.runtime.html">engine.runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.telemetry.html">engine.telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../engine/engine.types.html">engine.types</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Agents Module</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="agents.html">agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents.openai.html">agents.openai</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents.magentic_one.html">agents.magentic_one</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents.magentic_one_team.html">agents.magentic_one_team</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">agents.web_surfer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.DEFAULT_DESCRIPTION"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.DEFAULT_DESCRIPTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.DEFAULT_START_PAGE"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.DEFAULT_START_PAGE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.VIEWPORT_HEIGHT"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.VIEWPORT_HEIGHT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.VIEWPORT_WIDTH"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.VIEWPORT_WIDTH</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.MLM_HEIGHT"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.MLM_HEIGHT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.MLM_WIDTH"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.MLM_WIDTH</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.SCREENSHOT_TOKENS"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.SCREENSHOT_TOKENS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.close"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.close()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.produced_message_types"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.produced_message_types</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_reset"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.on_reset()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.on_messages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages_stream"><code class="docutils literal notranslate"><span class="pre">MultimodalWebSurfer.on_messages_stream()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController"><code class="docutils literal notranslate"><span class="pre">PlaywrightController</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.sleep"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.sleep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.get_interactive_rects"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.get_interactive_rects()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.get_visual_viewport"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.get_visual_viewport()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.get_focused_rect_id"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.get_focused_rect_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.get_page_metadata"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.get_page_metadata()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.on_new_page"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.on_new_page()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.back"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.back()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.visit_page"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.visit_page()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.page_down"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.page_down()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.page_up"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.page_up()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.gradual_cursor_animation"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.gradual_cursor_animation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.add_cursor_box"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.add_cursor_box()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.remove_cursor_box"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.remove_cursor_box()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.click_id"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.click_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.hover_id"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.hover_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.fill_id"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.fill_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.scroll_id"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.scroll_id()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.get_webpage_text"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.get_webpage_text()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.get_visible_text"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.get_visible_text()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#agentopera.agents.web_surfer.PlaywrightController.get_page_markdown"><code class="docutils literal notranslate"><span class="pre">PlaywrightController.get_page_markdown()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="agents.video_surfer.html">agents.video_surfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents.file_surfer.html">agents.file_surfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents.code_executor.html">agents.code_executor</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Router Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../router/router.html">router</a></li>
<li class="toctree-l1"><a class="reference internal" href="../router/router.workers.html">router.workers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../router/router.user.html">router.user</a></li>
<li class="toctree-l1"><a class="reference internal" href="../router/router.session.html">router.session</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Models Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../models/models.html">models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.openai.html">models.openai</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.anthropic.html">models.anthropic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.azure.html">models.azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.ollama.html">models.ollama</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.replay.html">models.replay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.cache.html">models.cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/models.utils.html">models.utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Memory Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../memory/memory.html">memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../memory/memory.graphrag.html">memory.graphrag</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tools/tools.html">tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/tools.http.html">tools.http</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/tools.code_execution.html">tools.code_execution</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">UI Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ui/ui.html">ui</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utils Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../utils/utils.html">utils</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Adapter Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../adapter/adapter.html">adapter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../adapter/adapter.langchain.html">adapter.langchain</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MCP Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mcp/mcp.html">mcp</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Zerocode Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../zerocode/zerocode.html">zerocode</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Edge Module</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../edge/edge.html">edge</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AgentOpera API References</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="agents.html">agents</a></li>
      <li class="breadcrumb-item active">agents.web_surfer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/agents/agents.web_surfer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-agentopera.agents.web_surfer">
<span id="agents-web-surfer"></span><h1>agents.web_surfer<a class="headerlink" href="#module-agentopera.agents.web_surfer" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentopera.agents.web_surfer.</span></span><span class="sig-name descname"><span class="pre">MultimodalWebSurfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_client</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.models.ChatCompletionClient" title="agentopera.engine.types.models.model_client.ChatCompletionClient"><span class="pre">ChatCompletionClient</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">downloads_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'\n</span>&#160;&#160;&#160; <span class="pre">A</span> <span class="pre">helpful</span> <span class="pre">assistant</span> <span class="pre">with</span> <span class="pre">access</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">web</span> <span class="pre">browser.\n</span>&#160;&#160;&#160; <span class="pre">Ask</span> <span class="pre">them</span> <span class="pre">to</span> <span class="pre">perform</span> <span class="pre">web</span> <span class="pre">searches,</span> <span class="pre">open</span> <span class="pre">pages,</span> <span class="pre">and</span> <span class="pre">interact</span> <span class="pre">with</span> <span class="pre">content</span> <span class="pre">(e.g.,</span> <span class="pre">clicking</span> <span class="pre">links,</span> <span class="pre">scrolling</span> <span class="pre">the</span> <span class="pre">viewport,</span> <span class="pre">filling</span> <span class="pre">in</span> <span class="pre">form</span> <span class="pre">fields,</span> <span class="pre">etc.).\n</span>&#160;&#160;&#160; <span class="pre">It</span> <span class="pre">can</span> <span class="pre">also</span> <span class="pre">summarize</span> <span class="pre">the</span> <span class="pre">entire</span> <span class="pre">page,</span> <span class="pre">or</span> <span class="pre">answer</span> <span class="pre">questions</span> <span class="pre">based</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">content</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">page.\n</span>&#160;&#160;&#160; <span class="pre">It</span> <span class="pre">can</span> <span class="pre">also</span> <span class="pre">be</span> <span class="pre">asked</span> <span class="pre">to</span> <span class="pre">sleep</span> <span class="pre">and</span> <span class="pre">wait</span> <span class="pre">for</span> <span class="pre">pages</span> <span class="pre">to</span> <span class="pre">load,</span> <span class="pre">in</span> <span class="pre">cases</span> <span class="pre">where</span> <span class="pre">the</span> <span class="pre">page</span> <span class="pre">seems</span> <span class="pre">not</span> <span class="pre">yet</span> <span class="pre">fully</span> <span class="pre">loaded.\n</span>&#160;&#160;&#160; <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headless</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'https://www.bing.com/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">animate_actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_save_screenshots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_ocr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">browser_channel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">browser_data_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_resize_viewport</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">playwright</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Playwright</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BrowserContext</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/multimodal_web_surfer.html#MultimodalWebSurfer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="../chatflow/chatflow.agents.html#agentopera.chatflow.agents.BaseChatAgent" title="agentopera.chatflow.agents.base_chat_agent.BaseChatAgent"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseChatAgent</span></code></a></p>
<p>MultimodalWebSurfer is a multimodal agent that acts as a web surfer that can search the web and visit web pages.</p>
<p>Installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">&quot;agentopera[web-surfer]&quot;</span>
</pre></div>
</div>
<p>It launches a chromium browser and allows the playwright to interact with the web browser and can perform a variety of actions. The browser is launched on the first call to the agent and is reused for subsequent calls.</p>
<p>It must be used with a multimodal model client that supports function/tool calling, ideally GPT-4o currently.</p>
<dl class="simple">
<dt>When <a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages" title="agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_messages()</span></code></a> or <a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages_stream" title="agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages_stream"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_messages_stream()</span></code></a> is called, the following occurs:</dt><dd><ol class="arabic simple">
<li><p>If this is the first call, the browser is initialized and the page is loaded. This is done in <code class="xref py py-meth docutils literal notranslate"><span class="pre">_lazy_init()</span></code>. The browser is only closed when <a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.close" title="agentopera.agents.web_surfer.MultimodalWebSurfer.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> is called.</p></li>
<li><p>The method <code class="xref py py-meth docutils literal notranslate"><span class="pre">_generate_reply()</span></code> is called, which then creates the final response as below.</p></li>
<li><p>The agent takes a screenshot of the page, extracts the interactive elements, and prepares a set-of-mark screenshot with bounding boxes around the interactive elements.</p></li>
<li><dl class="simple">
<dt>The agent makes a call to the <code class="xref py py-attr docutils literal notranslate"><span class="pre">model_client</span></code> with the SOM screenshot, history of messages, and the list of available tools.</dt><dd><ul class="simple">
<li><p>If the model returns a string, the agent returns the string as the final response.</p></li>
<li><p>If the model returns a list of tool calls, the agent executes the tool calls with <code class="xref py py-meth docutils literal notranslate"><span class="pre">_execute_tool()</span></code> using <code class="xref py py-attr docutils literal notranslate"><span class="pre">_playwright_controller</span></code>.</p></li>
<li><p>The agent returns a final response which includes a screenshot of the page, page metadata, description of the action taken and the inner text of the webpage.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>If at any point the agent encounters an error, it returns the error message as the final response.</p></li>
</ol>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please note that using the MultimodalWebSurfer involves interacting with a digital world designed for humans, which carries inherent risks.
Be aware that agents may occasionally attempt risky actions, such as recruiting humans for help or accepting cookie agreements without human involvement. Always ensure agents are monitored and operate within a controlled environment to prevent unintended consequences.
Moreover, be cautious that MultimodalWebSurfer may be susceptible to prompt injection attacks from webpages.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On Windows, the event loop policy must be set to <cite>WindowsProactorEventLoopPolicy</cite> to avoid issues with subprocesses.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">set_event_loop_policy</span><span class="p">(</span><span class="n">asyncio</span><span class="o">.</span><span class="n">WindowsProactorEventLoopPolicy</span><span class="p">())</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the agent.</p></li>
<li><p><strong>model_client</strong> (<a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.models.ChatCompletionClient" title="agentopera.engine.types.models.ChatCompletionClient"><em>ChatCompletionClient</em></a>) – The model client used by the agent. Must be multimodal and support function calling.</p></li>
<li><p><strong>downloads_folder</strong> (<em>str</em><em>, </em><em>optional</em>) – The folder where downloads are saved. Defaults to None, no downloads are saved.</p></li>
<li><p><strong>description</strong> (<em>str</em><em>, </em><em>optional</em>) – The description of the agent. Defaults to MultimodalWebSurfer.DEFAULT_DESCRIPTION.</p></li>
<li><p><strong>debug_dir</strong> (<em>str</em><em>, </em><em>optional</em>) – The directory where debug information is saved. Defaults to None.</p></li>
<li><p><strong>headless</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the browser should be headless. Defaults to True.</p></li>
<li><p><strong>start_page</strong> (<em>str</em><em>, </em><em>optional</em>) – The start page for the browser. Defaults to MultimodalWebSurfer.DEFAULT_START_PAGE.</p></li>
<li><p><strong>animate_actions</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to animate actions. Defaults to False.</p></li>
<li><p><strong>to_save_screenshots</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to save screenshots. Defaults to False.</p></li>
<li><p><strong>use_ocr</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use OCR. Defaults to False.</p></li>
<li><p><strong>browser_channel</strong> (<em>str</em><em>, </em><em>optional</em>) – The browser channel. Defaults to None.</p></li>
<li><p><strong>browser_data_dir</strong> (<em>str</em><em>, </em><em>optional</em>) – The browser data directory. Defaults to None.</p></li>
<li><p><strong>to_resize_viewport</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to resize the viewport. Defaults to True.</p></li>
<li><p><strong>playwright</strong> (<em>Playwright</em><em>, </em><em>optional</em>) – The playwright instance. Defaults to None.</p></li>
<li><p><strong>context</strong> (<em>BrowserContext</em><em>, </em><em>optional</em>) – The browser context. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<p>Example usage:</p>
<p>The following example demonstrates how to create a web surfing agent with
a model client and run it for multiple turns.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agentopera.chatflow.ui</span><span class="w"> </span><span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agentopera.chatflow.teams</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoundRobinGroupChat</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agentopera.models.openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAIChatCompletionClient</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">agentopera.agents.agents.web_surfer</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultimodalWebSurfer</span>


<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Define an agent</span>
    <span class="n">web_surfer_agent</span> <span class="o">=</span> <span class="n">MultimodalWebSurfer</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MultimodalWebSurfer&quot;</span><span class="p">,</span>
        <span class="n">model_client</span><span class="o">=</span><span class="n">OpenAIChatCompletionClient</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o-2024-08-06&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="c1"># Define a team</span>
    <span class="n">agent_team</span> <span class="o">=</span> <span class="n">RoundRobinGroupChat</span><span class="p">([</span><span class="n">web_surfer_agent</span><span class="p">],</span> <span class="n">max_turns</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="c1"># Run the team and stream messages to the console</span>
    <span class="n">stream</span> <span class="o">=</span> <span class="n">agent_team</span><span class="o">.</span><span class="n">run_stream</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="s2">&quot;Navigate to the agentopera readme on GitHub.&quot;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">Console</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
    <span class="c1"># Close the browser controlled by the agent</span>
    <span class="k">await</span> <span class="n">web_surfer_agent</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.DEFAULT_DESCRIPTION">
<span class="sig-name descname"><span class="pre">DEFAULT_DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\n</span>&#160;&#160;&#160; <span class="pre">A</span> <span class="pre">helpful</span> <span class="pre">assistant</span> <span class="pre">with</span> <span class="pre">access</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">web</span> <span class="pre">browser.\n</span>&#160;&#160;&#160; <span class="pre">Ask</span> <span class="pre">them</span> <span class="pre">to</span> <span class="pre">perform</span> <span class="pre">web</span> <span class="pre">searches,</span> <span class="pre">open</span> <span class="pre">pages,</span> <span class="pre">and</span> <span class="pre">interact</span> <span class="pre">with</span> <span class="pre">content</span> <span class="pre">(e.g.,</span> <span class="pre">clicking</span> <span class="pre">links,</span> <span class="pre">scrolling</span> <span class="pre">the</span> <span class="pre">viewport,</span> <span class="pre">filling</span> <span class="pre">in</span> <span class="pre">form</span> <span class="pre">fields,</span> <span class="pre">etc.).\n</span>&#160;&#160;&#160; <span class="pre">It</span> <span class="pre">can</span> <span class="pre">also</span> <span class="pre">summarize</span> <span class="pre">the</span> <span class="pre">entire</span> <span class="pre">page,</span> <span class="pre">or</span> <span class="pre">answer</span> <span class="pre">questions</span> <span class="pre">based</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">content</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">page.\n</span>&#160;&#160;&#160; <span class="pre">It</span> <span class="pre">can</span> <span class="pre">also</span> <span class="pre">be</span> <span class="pre">asked</span> <span class="pre">to</span> <span class="pre">sleep</span> <span class="pre">and</span> <span class="pre">wait</span> <span class="pre">for</span> <span class="pre">pages</span> <span class="pre">to</span> <span class="pre">load,</span> <span class="pre">in</span> <span class="pre">cases</span> <span class="pre">where</span> <span class="pre">the</span> <span class="pre">page</span> <span class="pre">seems</span> <span class="pre">not</span> <span class="pre">yet</span> <span class="pre">fully</span> <span class="pre">loaded.\n</span>&#160;&#160;&#160; <span class="pre">'</span></em><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.DEFAULT_DESCRIPTION" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.DEFAULT_START_PAGE">
<span class="sig-name descname"><span class="pre">DEFAULT_START_PAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://www.bing.com/'</span></em><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.DEFAULT_START_PAGE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.VIEWPORT_HEIGHT">
<span class="sig-name descname"><span class="pre">VIEWPORT_HEIGHT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">900</span></em><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.VIEWPORT_HEIGHT" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.VIEWPORT_WIDTH">
<span class="sig-name descname"><span class="pre">VIEWPORT_WIDTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1440</span></em><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.VIEWPORT_WIDTH" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.MLM_HEIGHT">
<span class="sig-name descname"><span class="pre">MLM_HEIGHT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">765</span></em><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.MLM_HEIGHT" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.MLM_WIDTH">
<span class="sig-name descname"><span class="pre">MLM_WIDTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1224</span></em><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.MLM_WIDTH" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.SCREENSHOT_TOKENS">
<span class="sig-name descname"><span class="pre">SCREENSHOT_TOKENS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1105</span></em><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.SCREENSHOT_TOKENS" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.close">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/multimodal_web_surfer.html#MultimodalWebSurfer.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.close" title="Link to this definition"></a></dt>
<dd><p>Close the browser and the page.
Should be called when the agent is no longer needed.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.produced_message_types">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">produced_message_types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">type</span><span class="p"><span class="pre">[</span></span><span class="pre">TextMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">MultiModalMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">StopMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ToolCallSummaryMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">HandoffMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.models.VercelMessage" title="agentopera.engine.types.models.types.VercelMessage"><span class="pre">VercelMessage</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.produced_message_types" title="Link to this definition"></a></dt>
<dd><p>The types of messages that the agent produces in the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Response.chat_message</span></code> field. They must be <code class="xref py py-class docutils literal notranslate"><span class="pre">ChatMessage</span></code> types.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.on_reset">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">on_reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cancellation_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.agent.CancellationToken" title="agentopera.engine.types.agent.cancellation_token.CancellationToken"><span class="pre">CancellationToken</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/multimodal_web_surfer.html#MultimodalWebSurfer.on_reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_reset" title="Link to this definition"></a></dt>
<dd><p>Resets the agent to its initialization state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">on_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">TextMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">MultiModalMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">StopMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ToolCallSummaryMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">HandoffMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.models.VercelMessage" title="agentopera.engine.types.models.types.VercelMessage"><span class="pre">VercelMessage</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cancellation_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.agent.CancellationToken" title="agentopera.engine.types.agent.cancellation_token.CancellationToken"><span class="pre">CancellationToken</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../chatflow/chatflow.base.html#agentopera.chatflow.base.Response" title="agentopera.chatflow.base.chat_agent.Response"><span class="pre">Response</span></a></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/multimodal_web_surfer.html#MultimodalWebSurfer.on_messages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages" title="Link to this definition"></a></dt>
<dd><p>Handles incoming messages and returns a response.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Agents are stateful and the messages passed to this method should
be the new messages since the last call to this method. The agent
should maintain its state between calls to this method. For example,
if the agent needs to remember the previous messages to respond to
the current message, it should store the previous messages in the
agent state.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages_stream">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">on_messages_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">messages</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">TextMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">MultiModalMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">StopMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ToolCallSummaryMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">HandoffMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.models.VercelMessage" title="agentopera.engine.types.models.types.VercelMessage"><span class="pre">VercelMessage</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cancellation_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.agent.CancellationToken" title="agentopera.engine.types.agent.cancellation_token.CancellationToken"><span class="pre">CancellationToken</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AsyncGenerator</span><span class="p"><span class="pre">[</span></span><span class="pre">ToolCallRequestEvent</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ToolCallExecutionEvent</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">MemoryQueryEvent</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">UserInputRequestedEvent</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ModelClientStreamingChunkEvent</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ThoughtEvent</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">TextMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">MultiModalMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">StopMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ToolCallSummaryMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">HandoffMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../engine/engine.types.html#agentopera.engine.types.models.VercelMessage" title="agentopera.engine.types.models.types.VercelMessage"><span class="pre">VercelMessage</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../chatflow/chatflow.base.html#agentopera.chatflow.base.Response" title="agentopera.chatflow.base.chat_agent.Response"><span class="pre">Response</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/multimodal_web_surfer.html#MultimodalWebSurfer.on_messages_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages_stream" title="Link to this definition"></a></dt>
<dd><p>Handles incoming messages and returns a stream of messages and
and the final item is the response. The base implementation in
<code class="xref py py-class docutils literal notranslate"><span class="pre">BaseChatAgent</span></code> simply calls <a class="reference internal" href="#agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages" title="agentopera.agents.web_surfer.MultimodalWebSurfer.on_messages"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_messages()</span></code></a> and yields
the messages in the response.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Agents are stateful and the messages passed to this method should
be the new messages since the last call to this method. The agent
should maintain its state between calls to this method. For example,
if the agent needs to remember the previous messages to respond to
the current message, it should store the previous messages in the
agent state.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">agentopera.agents.web_surfer.</span></span><span class="sig-name descname"><span class="pre">PlaywrightController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">downloads_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">animate_actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viewport_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1440</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viewport_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">900</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_download_handler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Download</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_resize_viewport</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A helper class to allow Playwright to interact with web pages to perform actions such as clicking, filling, and scrolling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>downloads_folder</strong> (<em>str</em><em> | </em><em>None</em>) – The folder to save downloads to. If None, downloads are not saved.</p></li>
<li><p><strong>animate_actions</strong> (<em>bool</em>) – Whether to animate the actions (create fake cursor to click).</p></li>
<li><p><strong>viewport_width</strong> (<em>int</em>) – The width of the viewport.</p></li>
<li><p><strong>viewport_height</strong> (<em>int</em>) – The height of the viewport.</p></li>
<li><p><strong>_download_handler</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>Download</em><em>]</em><em>, </em><em>None</em><em>]</em><em>]</em>) – A function to handle downloads.</p></li>
<li><p><strong>to_resize_viewport</strong> (<em>bool</em>) – Whether to resize the viewport</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.sleep">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sleep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.sleep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.sleep" title="Link to this definition"></a></dt>
<dd><p>Pause the execution for a specified duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>duration</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>float</em><em>]</em>) – The duration to sleep in milliseconds.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.get_interactive_rects">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_interactive_rects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">InteractiveRegion</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.get_interactive_rects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.get_interactive_rects" title="Link to this definition"></a></dt>
<dd><p>Retrieve interactive regions from the web page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of interactive regions.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, InteractiveRegion]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.get_visual_viewport">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_visual_viewport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VisualViewport</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.get_visual_viewport"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.get_visual_viewport" title="Link to this definition"></a></dt>
<dd><p>Retrieve the visual viewport of the web page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The visual viewport of the page.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>VisualViewport</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.get_focused_rect_id">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_focused_rect_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.get_focused_rect_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.get_focused_rect_id" title="Link to this definition"></a></dt>
<dd><p>Retrieve the ID of the currently focused element.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The ID of the focused element or None if no control has focus.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.get_page_metadata">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_page_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.get_page_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.get_page_metadata" title="Link to this definition"></a></dt>
<dd><p>Retrieve metadata from the web page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of page metadata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.on_new_page">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">on_new_page</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.on_new_page"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.on_new_page" title="Link to this definition"></a></dt>
<dd><p>Handle actions to perform on a new page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.back">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">back</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.back"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.back" title="Link to this definition"></a></dt>
<dd><p>Navigate back to the previous page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.visit_page">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">visit_page</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.visit_page"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.visit_page" title="Link to this definition"></a></dt>
<dd><p>Visit a specified URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>url</strong> (<em>str</em>) – The URL to visit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple indicating whether to reset prior metadata hash and last download.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[bool, bool]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.page_down">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">page_down</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.page_down"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.page_down" title="Link to this definition"></a></dt>
<dd><p>Scroll the page down by one viewport height minus 50 pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.page_up">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">page_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.page_up"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.page_up" title="Link to this definition"></a></dt>
<dd><p>Scroll the page up by one viewport height minus 50 pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.gradual_cursor_animation">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gradual_cursor_animation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.gradual_cursor_animation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.gradual_cursor_animation" title="Link to this definition"></a></dt>
<dd><p>Animate the cursor movement gradually from start to end coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>start_x</strong> (<em>float</em>) – The starting x-coordinate.</p></li>
<li><p><strong>start_y</strong> (<em>float</em>) – The starting y-coordinate.</p></li>
<li><p><strong>end_x</strong> (<em>float</em>) – The ending x-coordinate.</p></li>
<li><p><strong>end_y</strong> (<em>float</em>) – The ending y-coordinate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.add_cursor_box">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_cursor_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.add_cursor_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.add_cursor_box" title="Link to this definition"></a></dt>
<dd><p>Add a red cursor box around the element with the given identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – The element identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.remove_cursor_box">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove_cursor_box</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.remove_cursor_box"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.remove_cursor_box" title="Link to this definition"></a></dt>
<dd><p>Remove the red cursor box around the element with the given identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – The element identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.click_id">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">click_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Page</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.click_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.click_id" title="Link to this definition"></a></dt>
<dd><p>Click the element with the given identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – The element identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The new page if a new page is opened, otherwise None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Page | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.hover_id">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hover_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.hover_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.hover_id" title="Link to this definition"></a></dt>
<dd><p>Hover the mouse over the element with the given identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – The element identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.fill_id">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fill_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">press_enter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.fill_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.fill_id" title="Link to this definition"></a></dt>
<dd><p>Fill the element with the given identifier with the specified value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – The element identifier.</p></li>
<li><p><strong>value</strong> (<em>str</em>) – The value to fill.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.scroll_id">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scroll_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.scroll_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.scroll_id" title="Link to this definition"></a></dt>
<dd><p>Scroll the element with the given identifier in the specified direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – The element identifier.</p></li>
<li><p><strong>direction</strong> (<em>str</em>) – The direction to scroll (“up” or “down”).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.get_webpage_text">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_webpage_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_lines</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.get_webpage_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.get_webpage_text" title="Link to this definition"></a></dt>
<dd><p>Retrieve the text content of the web page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p></li>
<li><p><strong>n_lines</strong> (<em>int</em>) – The number of lines to return from the page inner text.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The text content of the page.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.get_visible_text">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_visible_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.get_visible_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.get_visible_text" title="Link to this definition"></a></dt>
<dd><p>Retrieve the text content of the browser viewport (approximately).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The text content of the page.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="agentopera.agents.web_surfer.PlaywrightController.get_page_markdown">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_page_markdown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">page</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Page</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/agentopera/agents/web_surfer/playwright_controller.html#PlaywrightController.get_page_markdown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#agentopera.agents.web_surfer.PlaywrightController.get_page_markdown" title="Link to this definition"></a></dt>
<dd><p>Retrieve the markdown content of the web page.
Currently not implemented.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>page</strong> (<em>Page</em>) – The Playwright page object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The markdown content of the page.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="agents.magentic_one_team.html" class="btn btn-neutral float-left" title="agents.magentic_one_team" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="agents.video_surfer.html" class="btn btn-neutral float-right" title="agents.video_surfer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, tensoropera.ai.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>